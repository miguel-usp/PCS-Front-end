<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Mi Casa Su Casa - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="../CSS/style.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</head>

<body class="d-flex justify-content-center">
    <div class="p-3 col-12 mx-auto flex-grow-1 d-flex justify-content-around flex-column"
        style="background-image: linear-gradient(to right, #b3f5b3, #75b675)">
        <!--img logo-->
        <img class="col-3 mx-auto" src="../imgs/logo.png" />
        <h2 class="display-4 text-center">Gerador de Senhas</h2><br>
        <!-- <div class="col-12 d-flex justify-content-center">
            <div class="list-group">
                <button type="button" class="list-group-item list-group-item-action active" aria-current="true">
                    <h4><strong>Escolha uma tranca</strong></h4>
                </button>
                <button type="button" class="list-group-item list-group-item-action">Porta da frente</button>
                <button type="button" class="list-group-item list-group-item-action">Porta dos fundos</button>
                <button type="button" class="list-group-item list-group-item-action">Port√£o da garagem</button>
            </div>
        </div> -->
        <!-- <div class="col-12 d-flex justify-content-center center">
            <div class="mb-4">
                <label for="exampleInputEmail1" class="form-label">Adicionar nova tranca</label>
                <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                <div id="emailHelp" class="form-text"></div>
            </div>
        </div> -->
        <div class="col-12 d-flex justify-content-center">
            <div class="list-group col-3">
                <p class="d-flex justify-content-center list-group-item list-group-item-action active m-0 h4"
                    aria-current="true">
                    <strong>Senha atual</strong>
                </p>
                <div class="list-group-item text-center" id="spinPass">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
                <p class="display-5 list-group-item list-group-item-action mb-0 text-center d-none" id="txtPass">
                </p>

                <div class="progress rounded-bottom" style="border-radius: 0">
                    <div class="progress-bar bg-danger" role="progressbar" style="width: 25%" aria-valuenow="25"
                        aria-valuemin="0" aria-valuemax="30" id="progTimer"></div>
                </div>
            </div>
        </div><br>
        <div class="d-grid gap-2 col-3 mx-auto">
            <button class="btn btn-info text-white" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                    height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z" />
                    <path
                        d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z" />
                </svg><a class="text-white" href="MinhaCasa.html">Voltar para minha casa</a></button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyBOneWagWEe-JLdeFuAKjsafHx3WRJNgs0",
            authDomain: "projeto-pcs.firebaseapp.com",
            databaseURL: "https://projeto-pcs-default-rtdb.firebaseio.com",
            projectId: "projeto-pcs",
            storageBucket: "projeto-pcs.appspot.com",
            messagingSenderId: "415874711827",
            appId: "1:415874711827:web:c0d4a878d793af7f685ae6",
            measurementId: "G-P51H8B053M"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        var starCountRef = firebase.database().ref('portas/-MeQrNX2GtOSYDBfz-cO');
        starCountRef.on('value', (snapshot) => {
            const data = snapshot.val();

            $('#progTimer').css('width', `${data.timer * 100 / 30}%`);
            $('#txtPass').removeClass('d-none').text(data.senha);
            $('#spinPass').addClass('d-none')
        });
    </script>
</body>

</html>